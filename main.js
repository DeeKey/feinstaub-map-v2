!function(e){function t(t){for(var a,o,s=t[0],l=t[1],u=t[2],c=0,h=[];c<s.length;c++)o=s[c],i[o]&&h.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);h.length;)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={1:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;r.push([20,0,2]),n()}({10:function(e,t){e.exports={europe:4,deutschland:6,germany:6,"baden-wuerttemberg":8,bayern:7,brandenburg:7,hessen:8,"mecklenburg-vorpommern":8,niedersachsen:8,"nordrhein-westfalen":8,"rheinland-pfalz":8,saarland:10,sachsen:9,"sachsen-anhalt":8,"schleswig-holstein":8,thueringen:8,ruhrgebiet:9,albania:7,oesterreich:7,austria:7,belarus:6,belgium:8,"bosnia-and-herzegovina":8,bulgaria:7,sofia:12,croatia:7,cyprus:9,"czech-republic":8,denmark:7,france:6,alsace:8,finland:5,greece:6,hungary:7,ireland:7,italy:6,sicily:8,kosovo:8,latvia:7,liechtenstein:11,luxembourg:9,macedonia:9,netherlands:7,norway:4,poland:6,warsaw:10,portugal:7,lisbon:10,romania:7,russia:3,moskow:10,serbia:7,slovakia:8,slovenia:8,spain:6,mallorca:10,majorca:10,schweiz:8,suisse:8,sweden:4,ukraine:6,"united-kingdom":5,london:10,cameroon:6,egypt:6,kenya:6,nigeria:6,tanzania:6,"south-africa":6,argentina:4,"buenos-aires":10,bolivia:6,brazil:4,brasilia:10,"sao-paulo":10,canada:3,chile:4,santiago:10,colombia:5,"costa-rica":8,"dominican-republic":8,guatemala:7,haiti:8,mexico:5,peru:5,usa:4,"united-states":4,brunei:9,china:4,beijing:9,india:5,mumbai:11,iraq:6,israel:7,japan:5,tokyo:9,jordan:7,kyrgyzstan:7,malaysia:6,nepal:7,oman:6,"republic-of-korea":7,taiwan:8,tajikistan:[7],thailand:5,turkey:6,"united-arab-emirates":7,uae:7,dubai:10,vietnam:6,australia:4,adelaide:10,brisbane:10,melbourne:10,perth:10,sydney:10,"new-zealand":[5],world:2}},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);n(15),n(16),n(17);var a=n(7),i=n(2),r=n(12),o=n(11),s=n(14),l=n(13),u=n(0),d=n(6),c=n(1),h=(n(19),n(5)),p=(n(18),n(9)),m=n(10),g=n(8);function f(e,t){return void 0!==g&&void 0!==g[t]&&void 0!==g[t][e]?g[t][e]:t}const b=Object.assign({},i,r,o,s,c,l,u,a,d);var y,v,w,k,_,P=h.selection,x=function(){var e,t,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(n.languages))for(e=0;e<n.languages.length;e++)if((t=n.languages[e]).length)return t;for(e=0;e<a.length;e++)if((t=n[a[e]]).length)return t;return t}().substring(0,2),M=[],z=!1,S={},I=b.timeFormatLocale({dateTime:"%Y.%m.%d %H:%M:%S",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan.","Feb.","Mar.","Apr.","Mai","Jun.","Jul.","Aug.","Sep.","Okt.","Nov.","Dez."]}),j={PM10:{valueDomain:[20,40,60,100,500],colorRange:["#00796B","#F9A825","#E65100","#DD2C00","#960084"]},PM25:{valueDomain:[10,20,40,60,100],colorRange:["#00796B","#F9A825","#E65100","#DD2C00","#960084"]},Official_AQI_US:{valueDomain:[0,50,100,150,200,300],colorRange:["#00E400","#FFFF00","#FF7E00","#FF0000","rgb(143, 63, 151)","#7E0023"]},Temperature:{valueDomain:[-20,0,50],colorRange:["#0022FE","#FFFFFF","#FF0000"]},Humidity:{valueDomain:[0,100],colorRange:["#FFFFFF","#0000FF"]},Pressure:{valueDomain:[926,947.75,969.5,991.25,1013,1034.75,1056.5,1078.25,1100],colorRange:["#dd2e97","#6b3b8f","#2979b9","#02B9ed","#13ae52","#c9d841","#fad635","#f0a03d","#892725"]}},F={PM10:"PM10 &micro;g/m&sup3;",PM25:"PM2.5 &micro;g/m&sup3;",Official_AQI_US:"AQI US",Temperature:"Temperature °C",Humidity:"Humidity %",Pressure:"Pressure hPa"},A={PM10:[2,1],PM25:[2,1],Temperature:[4,3],Humidity:[6,5],Pressure:[8,7]},D=b.select("#sidebar").append("div").attr("id","table").style("display","none");function T(e){console.log(e)}if(function(){var e,t=0,n=location.search.replace("?","").split("&");for(t=0;t<n.length;t++)e=n[t].split("="),S[e[0]]="",void 0!==e[1]&&(S[e[0]]=e[1])}(),T("Query No overlay: "+S.nooverlay),void 0!==S.nooverlay);else b.select("#betterplace").style("display","inline-block");var O=h.center,H=h.zoom;if(location.hash){var Z=location.hash.split("/");O=[Z[1],Z[2]],H=Z[0].substring(1)}else{var Q=location.hostname.split(".");if(4==Q.length){var E=Q[0].toLowerCase();if(T(E),void 0!==p[E]&&null!==p[E])O=p[E],H=11;if(void 0!==m[E]&&null!==m[E])H=m[E];T("Center: "+O),T("Zoom: "+H)}}function R(e){b.select("#legendcontainer").selectAll("[id^=legend_]").style("display","none"),b.select("#legend_"+e).style("display","block")}function B(e){var t=!1;return void 0===e||"number"!=typeof e||isNaN(e)||("Humidity"==P&&e>=0&&e<=100?t=!0:"Temperature"==P&&e<=70&&e>=-50?t=!0:"Pressure"==P&&e>=850&&e<1200?t=!0:"PM10"==P&&e<1900?t=!0:"PM25"==P&&e<900&&(t=!0)),t}function C(e,t){1==t?v=e.reduce(function(e,t){return"SDS011"!=t.sensor.sensor_type.name&&"PMS1003"!=t.sensor.sensor_type.name&&"PMS3003"!=t.sensor.sensor_type.name&&"PMS5003"!=t.sensor.sensor_type.name&&"PMS6003"!=t.sensor.sensor_type.name&&"PMS7003"!=t.sensor.sensor_type.name&&"HPM"!=t.sensor.sensor_type.name&&"SPS30"!=t.sensor.sensor_type.name||e.push({data:{PM10:parseInt(U(t.sensordatavalues,"P1")),PM25:parseInt(U(t.sensordatavalues,"P2"))},id:t.sensor.id,latitude:t.location.latitude,longitude:t.location.longitude}),e},[]):2==t?w=e.reduce(function(e,t){if("SDS011"==t.sensor.sensor_type.name||"PMS1003"==t.sensor.sensor_type.name||"PMS3003"==t.sensor.sensor_type.name||"PMS5003"==t.sensor.sensor_type.name||"PMS6003"==t.sensor.sensor_type.name||"PMS7003"==t.sensor.sensor_type.name||"HPM"==t.sensor.sensor_type.name||"SPS30"==t.sensor.sensor_type.name){var n={PM10:parseInt(U(t.sensordatavalues,"P1")),PM25:parseInt(U(t.sensordatavalues,"P2"))},a=function(e){var t=G(e.PM10,"PM10"),n=G(e.PM25,"PM25");if(t>=n)return{AQI:t,origin:"PM10"};if(t<n)return{AQI:n,origin:"PM2.5"}}(n);void 0!==a?e.push({data:{Official_AQI_US:a.AQI,origin:a.origin,PM10_24h:n.PM10,PM25_24h:n.PM25},id:t.sensor.id,latitude:t.location.latitude,longitude:t.location.longitude}):(T("Failed:"),T(t))}return e},[]):k=e.reduce(function(e,t){return e.push({data:{Pressure:parseInt(U(t.sensordatavalues,"pressure_at_sealevel"))/100,Humidity:parseInt(U(t.sensordatavalues,"humidity")),Temperature:parseInt(U(t.sensordatavalues,"temperature"))},id:t.sensor.id,latitude:t.location.latitude,longitude:t.location.longitude}),e},[]);var n=b.timeParse("%Y-%m-%d %H:%M:%S")(e[0].timestamp),a=(new Date).getTimezoneOffset(),i=b.timeMinute.offset(n,-a),r=I.format("%H:%M:%S");b.select("#update").html(f(x,"Last update")+": "+r(i)),1!=t||"PM10"!=P&&"PM25"!=P||(y.initialize(j[P]),y.data(v.filter(function(e){return B(e.data[P])}))),2==t&&"Official_AQI_US"==P&&(y.initialize(j[P]),y.data(w)),3!=t||"Temperature"!=P&&"Humidity"!=P&&"Pressure"!=P||(y.initialize(j[P]),y.data(k.filter(function(e){return B(e.data[P])}))),b.select("#loading").style("display","none")}function U(e,t){var n;return e.forEach(function(e){e.value_type==t&&(n=e.value)}),n}function N(){var e=b.select("#sidebar");"block"===e.style("display")?(e.style("display","none"),b.select("#results").empty()||b.select("#results").remove()):e.style("display","block")}function J(){var e=b.select("#map-info");"none"===e.style("display")?(e.style("display","block"),b.select("#explanation").html(f(x,"Hide explanation"))):(e.style("display","none"),b.select("#explanation").html(f(x,"Show explanation")))}function G(e,t){var n;return e>=0&&("PM10"==t&&(n=parseInt(e)<=54?q(50,0,54,0,parseInt(e)):parseInt(e)<=154?q(100,51,154,55,parseInt(e)):parseInt(e)<=254?q(150,101,254,155,parseInt(e)):parseInt(e)<=354?q(200,151,354,255,parseInt(e)):parseInt(e)<=424?q(300,201,424,355,parseInt(e)):parseInt(e)<=504?q(400,301,504,425,parseInt(e)):parseInt(e)<=604?q(500,401,604,505,parseInt(e)):500),"PM25"==t&&(n=e.toFixed(1)<=12?q(50,0,12,0,e.toFixed(1)):e.toFixed(1)<=35.4?q(100,51,35.4,12.1,e.toFixed(1)):e.toFixed(1)<=55.4?q(150,101,55.4,35.5,e.toFixed(1)):e.toFixed(1)<=150.4?q(200,151,150.4,55.5,e.toFixed(1)):e.toFixed(1)<=250.4?q(300,201,250.4,150.5,e.toFixed(1)):e.toFixed(1)<=350.4?q(400,301,350.4,250.5,e.toFixed(1)):e.toFixed(1)<=550.4?q(500,401,550.4,350.5,e.toFixed(1)):500)),n}function q(e,t,n,a,i){return parseInt((e-t)/(n-a)*(i-a)+t)}function W(){z=!0;var e=b.select("#custom-select");e.select(".select-items").empty()&&(e.append("div").attr("class","select-items"),e.select("select").selectAll("option").each(function(t,n){this.value!=P&&e.select(".select-items").append("div").text(this.text).attr("id","select-item-"+this.value).on("click",function(){var e,t,n;e=this,(t=b.select("#custom-select")).select("select").property("value",e.id.substring(12)),t.select(".select-selected").text(t.select("select").select("option:checked").text()),n=P=e.id.substring(12),b.selectAll("path.hexbin-hexagon").remove(),b.select("#results").remove(),b.select("#sidebar").style("display","none"),T(n),R(P=n),y.initialize(j[P]),"PM10"==n||"PM25"==n?y.data(v.filter(function(e){return B(e.data[n])})):"Official_AQI_US"==n?y.data(w):"Temperature"!=n&&"Humidity"!=n&&"Pressure"!=n||y.data(k.filter(function(e){return B(e.data[n])})),t.select(".select-items").remove()})}),e.select(".select-selected").attr("class","select-selected select-arrow-active"))}window.onload=function(){L.HexbinLayer=L.Layer.extend({_undef:e=>void 0===e,options:{radius:25,opacity:.6,duration:200,onmouseover:void 0,onmouseout:void 0,click:function(e){b.timeout(function(){1==_.clicked&&function(e){var t="#";"Official_AQI_US"!=P&&(t="(+) #");M=[],b.select("#results").empty()||b.select("#results").remove();var n=b.select("#sidebar");"none"===n.style("display")&&n.style("display","block");var a="<table id='results' style='width:380px;'><tr><th class ='title'>"+f(x,"Sensor")+"</th><th class = 'title'>"+f(x,F[P])+"</th></tr>";e.length>1&&(a+="<tr><td class='idsens'>Median "+e.length+" Sens.</td><td>"+parseInt(b.median(e,e=>e.o.data[P]))+"</td></tr>");var i="";e.forEach(function(e){i+="<tr><td class='idsens' id='id_"+e.o.id+"'>"+t+e.o.id+"</td>","PM10"==P&&(i+="<td>"+e.o.data[P]+"</td></tr>"),"PM25"==P&&(i+="<td>"+e.o.data[P]+"</td></tr>"),"Official_AQI_US"==P&&(i+="<td>"+e.o.data[P]+" ("+e.o.data.origin+")</td></tr>"),"Temperature"==P&&(i+="<td>"+e.o.data[P]+"</td></tr>"),"Humidity"==P&&(i+="<td>"+e.o.data[P]+"</td></tr>"),"Pressure"==P&&(i+="<td>"+e.o.data[P].toFixed(1)+"</td></tr>"),i+="<tr id='graph_"+e.o.id+"'></tr>"}),a+=i,a+="</table>",D.transition().duration(200).style("display","block"),D.html(a).style("padding","10px"),b.selectAll(".idsens").on("click",function(){!function(e){var t="",n="<iframe src='https://maps.luftdaten.info/grafana/d-solo/000000004/single-sensor-view?orgId=1&panelId=<PANELID>&var-node=<SENSOR>' width='290' height='200' frameborder='0'></iframe>",a=e.substr(3);if(M.includes(a))"Official_AQI_US"!=P&&(t="(+) "),b.select("#id_"+a).html(t+"#"+a),function(e){b.select("#frame_"+e).remove(),function(e){var t,n,a=arguments,i=a.length;for(;i>1&&e.length;)for(t=a[--i];-1!==(n=e.indexOf(t));)e.splice(n,1)}(M,e)}(a);else{M.push(a);var i="#graph_"+a;b.select(i).append("td").attr("id","frame_"+a).attr("colspan","2").html(n.replace("<PANELID>",A[P][0]).replace("<SENSOR>",a)+"<br>"+n.replace("<PANELID>",A[P][1]).replace("<SENSOR>",a)),"Official_AQI_US"!=P&&(t="(-) "),b.select("#id_"+a).html(t+"#"+a)}}(b.select(this).attr("id"))})}(e)},300)},lng:function(e){return e.longitude},lat:function(e){return e.latitude},value:function(e){return b.median(e,e=>e.o.data[P])}},initialize(e){L.setOptions(this,e),this._data=[],this._colorScale=b.scaleLinear().domain(this.options.valueDomain).range(this.options.colorRange).clamp(!0)},getFlexRadius(){return this.map.getZoom()<3?this.options.radius/(3*(4-this.map.getZoom())):this.map.getZoom()>2&&this.map.getZoom()<8?this.options.radius/(9-this.map.getZoom()):this.options.radius},onAdd(e){this.map=e;let t=this;this._svg=L.svg(),e.addLayer(this._svg),this._rootGroup=b.select(this._svg._rootGroup).classed("d3-overlay",!0),this.selection=this._rootGroup,this._pixelOrigin=e.getPixelOrigin(),this._wgsOrigin=L.latLng([0,0]),this._wgsInitialShift=this.map.latLngToLayerPoint(this._wgsOrigin),this._zoom=this.map.getZoom(),this._shift=L.point(0,0),this._scale=1,this.projection={latLngToLayerPoint:function(e,n){return n=t._undef(n)?t._zoom:n,t.map.project(L.latLng(e),n)._round()._subtract(t._pixelOrigin)},layerPointToLatLng:function(e,n){n=t._undef(n)?t._zoom:n;let a=L.point(e).add(t._pixelOrigin);return t.map.unproject(a,n)},unitsPerMeter:256*Math.pow(2,t._zoom)/40075017,map:t.map,layer:t,scale:1},this.projection._projectPoint=function(e,n){let a=t.projection.latLngToLayerPoint(new L.LatLng(n,e));this.stream.point(a.x,a.y)},this.projection.pathFromGeojson=b.geoPath().projection(b.geoTransform({point:this.projection._projectPoint})),this.projection.latLngToLayerFloatPoint=this.projection.latLngToLayerPoint,this.projection.getZoom=this.map.getZoom.bind(this.map),this.projection.getBounds=this.map.getBounds.bind(this.map),this.selection=this._rootGroup,this.draw()},onRemove(e){null!=this._container&&this._container.remove(),e.off({moveend:this._redraw},this),this._container=null,this._map=null},addTo(e){return e.addLayer(this),this},_disableLeafletRounding(){this._leaflet_round=L.Point.prototype._round,L.Point.prototype._round=function(){return this}},_enableLeafletRounding(){L.Point.prototype._round=this._leaflet_round},draw(){this._disableLeafletRounding(),this._redraw(this.selection,this.projection,this.map.getZoom()),this._enableLeafletRounding()},getEvents:function(){return{zoomend:this._zoomChange}},_zoomChange:function(){let e=_.getZoom();_.getCenter();this._disableLeafletRounding();let t=this._undef(e)?this.map._zoom:e;this._zoomDiff=t-this._zoom,this._scale=Math.pow(2,this._zoomDiff),this.projection.scale=this._scale,this._shift=this.map.latLngToLayerPoint(this._wgsOrigin)._subtract(this._wgsInitialShift.multiplyBy(this._scale));let n=["translate(",this._shift.x,",",this._shift.y,") "],a=["scale(",this._scale,",",this._scale,") "];this._rootGroup.attr("transform",n.concat(a).join("")),this.draw(),this._enableLeafletRounding()},_redraw(e,t,n){let a=this._data.map(e=>{let n=this.options.lng(e),a=this.options.lat(e);return{o:e,point:t.latLngToLayerPoint([a,n])}}),i=e.selectAll("g.hexbin").data([n],e=>e);i.enter().append("g").attr("class",e=>"hexbin zoom-"+e),i.exit().remove(),this._createHexagons(i,a,t)},_createHexagons(e,t,n){let a=b.hexbin().radius(this.getFlexRadius()/n.scale).x(e=>e.point.x).y(e=>e.point.y),i=a(t),r=e.selectAll("path.hexbin-hexagon").data(i);r.attr("fill",e=>this._colorScale(this.options.value(e))).attr("fill-opacity",this.options.opacity).attr("stroke-opacity",this.options.opacity),r.enter().append("path").attr("class","hexbin-hexagon").attr("d",e=>"M"+e.x+","+e.y+a.hexagon()).attr("fill",e=>this._colorScale(this.options.value(e))).attr("fill-opacity",.01).attr("stroke-opacity",.01).on("mouseover",this.options.mouseover).on("mouseout",this.options.mouseout).on("click",this.options.click).attr("fill-opacity",this.options.opacity).attr("stroke-opacity",this.options.opacity),r.exit().attr("fill-opacity",.01).attr("stroke-opacity",.01).remove()},data(e){return this._data=null!=e?e:[],this.draw(),this}}),L.hexbinLayer=function(e){return new L.HexbinLayer(e)},b.select("#legend_PM10").style("display","block"),b.select("#close").html(f(x,"(close)")),b.select("#explanation").html(f(x,"Show explanation")),b.select("#map-info").html(f(x,"<p>The hexagons represent the median of the current values of the sensors which are contained in the area, according to the option selected (PM10, PM2.5, temperature, relative humidity, pressure, AQI). You can refer to the scale on the left side of the map.</p> <p>By clicking on a hexagon, you can display a list of all the corresponding sensors as a table. The first column lists the sensor-IDs. In the first line, you can see the amount of sensor in the area and the median value.</p> <p>By clicking on the plus symbol next to a sensor ID, you can display two graphics: the individual measurements for the last 24 hours and the 24 hours floating mean for the last seven days. For technical reasons, the first of the 8 days displayed on the graphic has to stay empty.The values are refreshed every 5 minutes in order to fit with the measurement frequency of the Airrohr sensors.</p> <p>The Air Quality Index (AQI) is calculated according to the recommandations of the United States Environmental Protection Agency. Further information is available on the official page.(<a href='https://www.airnow.gov/index.cfm?action=aqibasics.aqi'>Link</a>). Hover over the AQI scale to display the levels of health concern.</p>")),b.select("#betterplace").html("<a title='"+f(x,"Donate for Luftdaten.info (Hardware, Software) now on Betterplace.org")+" target='_blank' href='https://www.betterplace.org/de/projects/38071-fur-den-feinstaub-sensor-sds011-als-bastel-kit-spenden/'>"+f(x,"Donate for<br/>Luftdaten.info<br/>now on<br/><span>Betterplace.org</span>")+"</a>"),b.select("#menu").on("click",N),b.select("#close").on("click",N),b.select("#explanation").on("click",J);var e=b.select("#custom-select");e.select("select").selectAll("option").each(function(e,t){b.select(this).text(f(x,b.select(this).text()))}),e.select("select").property("value",h.selection),e.append("div").attr("class","select-selected").html(f(x,b.select("#custom-select").select("select").select("option:checked").text())).on("click",W),e.style("display","inline-block"),R(P=h.selection),T(P),_.setView(O,H),_.clicked=0,y=L.hexbinLayer(j[P]).addTo(_),b.json("https://maps.luftdaten.info/data/v2/data.dust.min.json").then(function(e){C(e,1),b.json("https://maps.luftdaten.info/data/v2/data.24h.json").then(function(e){C(e,2)}),b.json("https://maps.luftdaten.info/data/v2/data.temp.min.json").then(function(e){C(e,3)})}),b.interval(function(){b.selectAll("path.hexbin-hexagon").remove(),b.json("https://maps.luftdaten.info/data/v2/data.dust.min.json").then(function(e){C(e,1),b.json("https://maps.luftdaten.info/data/v2/data.24h.json").then(function(e){C(e,2)}),b.json("https://maps.luftdaten.info/data/v2/data.temp.min.json").then(function(e){C(e,3)})}),T("reload")},3e5),_.on("moveend",function(){y._zoomChange()}),_.on("move",function(){}),_.on("click",function(e){T("Click"),_.clicked=_.clicked+1,b.timeout(function(){1==_.clicked&&(_.setView([e.latlng.lat,e.latlng.lng],_.getZoom()),_.clicked=0)},300)}),_.on("dblclick",function(e){T("Doubleclick"),_.clicked=0,_.zoomIn()})},_=L.map("map",{zoomControl:!0,minZoom:h.minZoom,maxZoom:h.maxZoom,doubleClickZoom:!1}),new L.Hash(_),L.tileLayer(h.tiles,{attribution:h.attribution,maxZoom:h.maxZoom,minZoom:h.minZoom}).addTo(_),document.addEventListener("click",function(){z?z=!1:b.select("#custom-select").select(".select-items").remove()})},5:function(e,t){e.exports={center:[0,0],zoom:2,minZoom:2,maxZoom:16,selection:"PM10",tiles:"https://maps.luftdaten.info/tiles/{z}/{x}/{y}.png",attribution:"Map data © <a href='https://openstreetmap.org'>OpenStreetMap</a> contributors"}},8:function(e,t){e.exports={"(Sensor)":{de:"Sensor"},"PM10 &micro;g/m&sup3;":{},"PM2.5 &micro;g/m&sup3;":{},"AQI US":{},"Temperature °C":{de:"Temperatur °C"},"Humidity %":{de:"Feuchtigkeit %"},"Pressure hPa":{de:"Luftdruck hPa"}," Temperature":{de:" Temperatur"}," rel. Humidity":{de:" rel. Luftfeuchte"}," Pressure":{de:" Luftdruck"},"Hide explanation":{de:"Erklärung ausblenden"},"Show explanation":{de:"Erklärung einblenden"},"(close)":{de:"(schließen)"},"Last update":{de:"Letztes Update"},"<p>The hexagons represent the median of the current values of the sensors which are contained in the area, according to the option selected (PM10, PM2.5, temperature, relative humidity, pressure, AQI). You can refer to the scale on the left side of the map.</p> <p>By clicking on a hexagon, you can display a list of all the corresponding sensors as a table. The first column lists the sensor-IDs. In the first line, you can see the amount of sensor in the area and the median value.</p> <p>By clicking on the plus symbol next to a sensor ID, you can display two graphics: the individual measurements for the last 24 hours and the 24 hours floating mean for the last seven days. For technical reasons, the first of the 8 days displayed on the graphic has to stay empty.The values are refreshed every 5 minutes in order to fit with the measurement frequency of the Airrohr sensors.</p> <p>The Air Quality Index (AQI) is calculated according to the recommandations of the United States Environmental Protection Agency. Further information is available on the official page.(<a href='https://www.airnow.gov/index.cfm?action=aqibasics.aqi'>Link</a>). Hover over the AQI scale to display the levels of health concern.</p>":{de:"<p>Die Kacheln zeigen aktuell den Durchschnitt der PM10-Werte aller in der Zelle befindlichen Sensoren. Diese werden nach der Skala unten links entsprechend eingefärbt.</p> <p>Die Zahlen in der ersten Spalte enthält die Sensor-IDs. Befinden sich mehrere Sensoren in der Kachel, so wird der Durchschnittswerte aller in der Zelle enthaltenen Sensoren berechnet.</p> <p><b>Achtung</b>: Wir zeigen auf der Karte die Werte der <b>letzten 5 Minuten</b> an. Die von den jeweiligen Landesbehörden veröffentlichen Werte werden als ein 24-Stunden-Mittelwert angegeben. Dadurch können die Werte deutlich vom 24-Stunden-Mittelwert abweichen.</p> <p>Ein Klick auf das Plus vor der Sensor-ID blendet zwei Grafiken ein. Die erste Grafik zeigt den '24 h floating average' (den gleitenden 24-Stunden-Mittelwert) der letzten 7 Tage an. Die zweite Grafik 'Last 24 hours' zeigt den Tagesverlauf für die letzten 24 Stunden.</p>"},"Donate for Luftdaten.info (Hardware, Software) now on Betterplace.org":{de:"Jetzt spenden für 'Luftdaten.info' (Hardware, Software) auf betterplace.org!"},"Donate for<br/>Luftdaten.info<br/>now on<br/><span>Betterplace.org</span>":{de:"Jetzt für<br/>Luftdaten.info<br/>spenden auf<br/><span>Betterplace.org</span>"}}},9:function(e,t){e.exports={europe:[57.5,22],deutschland:[51.165,10.4553],germany:[51.165,10.4553],"baden-wuerttemberg":[48.53,9.05],bayern:[48.949,11.395],brandenburg:[52.3622,13.0078],hessen:[50.5995,9.0249],"mecklenburg-vorpommern":[53.6121,12.7002],niedersachsen:[52.7562,9.3933],"nordrhein-westfalen":[51.4783,7.555],"rheinland-pfalz":[49.9131,7.4497],saarland:[49.3833,6.8333],sachsen:[51.0493,13.7381],"sachsen-anhalt":[51.9713,11.4697],"schleswig-holstein":[54.47,9.5142],thueringen:[50.8614,11.0522],ruhrgebiet:[51.5175,7.145],aachen:[50.777,6.0836],aalen:[48.8372,10.0936],ahlen:[51.7633,7.8911],arnsberg:[51.3967,8.0647],aschaffenburg:[49.9767,9.1477],augsburg:[48.3585,10.8944],"bad-homburg":[50.2292,8.6105],"bad-kreuznach":[49.8469,7.8669],"bad-oeynhausen":[52.2,8.8],"bad-salzuflen":[52.0875,8.7506],"baden-baden":[48.76194,8.2408],bamberg:[49.8917,10.8917],bayreuth:[49.9481,11.5783],bergheim:[50.9667,6.65],"bergisch-gladbach":[50.9917,7.136],berlin:[52.5167,13.3833],bielefeld:[52.0167,8.5167],bocholt:[51.8367,6.6108],bochum:[51.4825,7.2169],boeblingen:[48.6851,9.009],boeblingen:[48.6856,9.0153],bonn:[50.734,7.0998],bottrop:[51.5247,6.9228],"brandenburg-an-der-havel":[52.4089,12.5631],braunschweig:[52.2692,10.5211],bremen:[53.0769,8.8089],bremerhaven:[53.5419,8.578],"castrop-rauxel":[51.55,7.3167],celle:[52.6261,10.0806],chemnitz:[50.8322,12.9242],cottbus:[51.76056,14.3342],cuxhaven:[53.8617,8.6941],darmstadt:[49.8667,8.65],delmenhorst:[53.0497,8.6339],"dessau-rosslau":[51.8606,12.2469],detmold:[51.9333,8.8833],dinslaken:[51.5667,6.7333],dormagen:[51.0933,6.8419],dorsten:[51.6604,6.96465],dortmund:[51.5142,7.46389],dresden:[51.0517,13.731],dueren:[50.8,6.4833],duesseldorf:[51.2256,6.7828],duisburg:[51.4351,6.7627],elmshorn:[53.7547,9.6536],emden:[53.3669,7.2056],erftstadt:[50.8092,6.7758],erfurt:[50.9781,11.0292],erlangen:[49.5964,11.0043],eschweiler:[50.8208,6.2631],essen:[51.4581,7.0148],esslingen:[48.7406,9.3108],euskirchen:[50.6608,6.7858],flensburg:[54.7819,9.4367],frankenthal:[49.5333,8.35],frankfurt:[50.1106,8.6822],"frankfurt-oder":[52.3417,14.5508],frechen:[50.9133,6.8139],freiburg:[47.99,7.82],friedrichshafen:[47.6542,9.4792],fuerth:[49.4783,10.9903],fulda:[50.552777777778,9.6775],garbsen:[52.4183,9.5981],gelsenkirchen:[51.5111,7.1006],gera:[50.8806,12.0833],giessen:[50.5872,8.6697],gladbeck:[51.573333333333,6.9925],goeppingen:[48.7025,9.6528],goerlitz:[51.1528,14.9872],goettingen:[51.5339,9.9356],goslar:[51.9072,10.43],greifswald:[54.096,13.3811],greiz:[50.6536,12.1884],grevenbroich:[51.0883,6.5875],guetersloh:[51.9,8.3833],gummersbach:[51.0269,7.5678],hagen:[51.3594,7.475],halle:[51.4828,11.97],hamburg:[53.5464,9.9841],hameln:[52.1031,9.36],hamm:[51.6811,7.817117],hanau:[50.1333,8.9167],hannover:[52.3744,9.7386],hattingen:[51.4011,7.1848],heidelberg:[49.4122,8.71],heidenheim:[48.6761,10.1544],heilbronn:[49.1417,9.2222],herford:[52.1172,8.6761],herne:[51.5419,7.2239],herten:[51.6,7.1333],hilden:[51.1714,6.9394],hildesheim:[52.15,9.95],huerth:[50.8694,6.8653],ibbenbueren:[52.2778,7.7167],ingolstadt:[48.7656,11.4244],iserlohn:[51.3811,7.6956],jena:[50.9272,11.5864],kaiserslautern:[49.4447,7.7689],karlsruhe:[49.014,8.4043],kassel:[51.3167,9.5],kempten:[47.7333,10.3167],kerpen:[50.8719,6.6961],kiel:[54.3253,10.1406],kleve:[51.7875,6.1353],koblenz:[50.3567,7.5939],koeln:[50.9381,6.9569],konstanz:[47.6633,9.1753],krefeld:[51.3369,6.5642],landshut:[48.5372,12.1522],langenfeld:[51.1131,6.9522],langenhagen:[52.4394,9.74],leipzig:[51.3403,12.37475],leverkusen:[51.0333,6.9833],lingen:[52.5233,7.3172],lippstadt:[51.6667,8.35],loerrach:[47.6156,7.6614],ludwigsburg:[48.8975,9.1922],ludwigshafen:[49.4831,8.4478],luebeck:[53.8661,10.6839],luedenscheid:[51.2183,7.6297],lueneburg:[53.2525,10.4144],luenen:[51.6167,7.5167],magdeburg:[52.1333,11.6167],mainz:[50,8.2711],mannheim:[49.4836,8.4631],marburg:[50.8075,8.7722],marl:[51.6539,7.0858],meerbusch:[51.2608,6.6778],menden:[51.4392,7.7953],minden:[52.2833,8.9167],moenchengladbach:[51.1911,6.4419],moers:[51.4517,6.6264],"muelheim-an-der-ruhr":[51.4331,6.8831],muenchen:[48.14,11.56],muenster:[51.9502,7.5911],"neu-ulm":[48.3942,9.9989],neubrandenburg:[53.557,13.261],neumuenster:[54.0714,9.99],neuss:[51.1986,6.6914],"neustadt-an-der-weinstrasse":[49.35,8.15],neuwied:[50.4286,7.4614],norderstedt:[53.6956,9.9836],nordhorn:[52.4361,7.0706],nuernberg:[49.4556,11.0786],oberhausen:[51.4703,6.8522],offenbach:[50.0994,8.7708],offenburg:[48.4708,7.9408],oldenburg:[53.1439,8.2139],osnabrueck:[52.2789,8.0431],paderborn:[51.7231,8.7549],passau:[48.5733,13.4569],peine:[52.3203,10.2336],pforzheim:[48.8911,8.6989],plauen:[50.495,12.1383],potsdam:[52.3958,13.0614],pulheim:[51,6.8],rastatt:[48.8569,8.2028],ratingen:[51.2956,6.8522],ravensburg:[47.7819,9.6136],recklinghausen:[51.6167,7.2],regensburg:[49.0167,12.0833],remscheid:[51.1783,7.1994],reutlingen:[48.4833,9.2167],rheine:[52.2833,7.4333],rosenheim:[47.8561,12.1289],rostock:[54.0833,12.1333],ruesselsheim:[49.995,8.4119],saarbruecken:[49.2333,7],salzgitter:[52.1533,10.4061],"sankt-augustin":[50.77,7.1867],schwaebisch_gmuend:[48.8,9.8],schweinfurt:[50.045,10.2342],schwerin:[53.6333,11.4167],siegen:[50.87444,8.0244],sindelfingen:[48.7133,9.003],solingen:[51.17139,7.0833],speyer:[49.3172,8.4342],stolberg:[50.7667,6.2333],stralsund:[54.3139,13.0897],stuttgart:[48.8,9.2],trier:[49.7596,6.6439],troisdorf:[50.8161,7.1556],tuebingen:[48.52,9.0556],ulm:[48.4008,9.9872],unna:[51.5347,7.6889],velbert:[51.3333,7.05],viersen:[51.2528,6.3933],"villingen-schwenningen":[48.0569,8.4917],waiblingen:[48.8303,9.3169],weimar:[50.9794,11.3297],wesel:[51.6586,6.6178],wetzlar:[50.5578,8.5044],wiesbaden:[50.0821,8.2414],wilhelmshaven:[53.5219,8.1075],willich:[51.2631,6.5492],wismar:[53.8882,11.462],witten:[51.4333,7.3333],wolfenbuettel:[52.1622,10.5369],wolfsburg:[52.4231,10.7872],worms:[49.633055555556,8.3608],wuerzburg:[49.7944,9.9294],wuppertal:[51.2592,7.2111],zwickau:[50.7189,12.4922],albania:[41,20],tirana:[41.317,19.817],oesterreich:[47.6,13.7833],austria:[47.6,13.7833],wien:[48.2083,16.3731],graz:[47.0667,15.4333],linz:[48.3031,14.2906],salzburg:[47.8,13.0333],innsbruck:[47.2672,11.3928],belarus:[54,28],minsk:[53.917,27.55],belgium:[50.8,4],brussels:[50.833333,4.4],"bosnia-and-herzegovina":[43.925,18],sarajevo:[43.867,18.417],bulgaria:[42.65,25.4],sofia:[42.6972,23.3233],pernik:[42.6,23.0333],varna:[43.2103,27.9097],plovdiv:[42.15,24.75],burgas:[42.4953,27.4717],velikotarnovo:[43.084,25.6556],ruse:[43.8564,25.9706],silistra:[44.1167,27.2667],starazagora:[42.42,25.63],vidin:[43.9911,22.8822],montana:[43.4125,23.225],pleven:[43.42,24.62],haskovo:[41.9333,25.5667],kardzhali:[41.65,25.3667],dimitrovgrad:[42.05,25.6],blagoevgrad:[42.0167,23.1],croatia:[45.166667,15.5],cyprus:[35.17,33.4],nicosia:[35.167,33.367],"czech-republic":[49.8,15.5],prague:[50.0833,14.4167],denmark:[56,11],finland:[65,26],helsinki:[60.1667,24.9333],turku:[60.45,22.2667],france:[46.3167,2.5333],paris:[48.8567,2.3517],alsace:[48.24905,7.52806],strasbourg:[48.5836,7.74806],grenoble:[45.2002,5.7222],rennes:[48.107,-1.659],greece:[39,22],athens:[37.984,23.7278],hungary:[47,20],budapest:[47.5,19.05],szeged:[46.255,20.145],ireland:[53.1333,-8.1167],dublin:[53.3425,-6.2658],sligo:[54.27679,-8.474551],italy:[42,12],sicily:[37.5667,14.2667],bologna:[44.4939,11.3428],florence:[43.7833,11.25],palermo:[38.1158,13.3614],rome:[41.9,12.5],turin:[45.0667,7.7],verona:[45.433,10.983],kosovo:[42.583,21],pristina:[42.667,21.167],latvia:[57,25],riga:[56.949,24.106],liechtenstein:[47.17,9.51],vaduz:[47.141,9.521],luxembourg:[49.85,6],macedonia:[41.6,21.7],skopje:[42,21.43],netherlands:[51.6,5.5667],norway:[66,18],oslo:[59.9,10.75],poland:[52.1469,19.3781],warsaw:[52.233333,21.016667],wroclaw:[51.11,17.0322],lomianki:[52.367,20.9],portugal:[39.572,-8.031],lisbon:[38.7139,-9.1394],romania:[46,25],bucharest:[44.4167,26.1],russia:[65,90],moscow:[55.75,37.617],serbia:[44,21],belgrade:[44.8167,20.4667],nis:[43.321,21.896],slovakia:[48.667,19.5],bratislava:[48.15,17.117],slovenia:[46.134,14.766],ljubljana:[46.056,14.508],spain:[40,-1],barcelona:[41.3837,2.1829],mallorca:[39.6167,2.9833],majorca:[39.6167,2.9833],schweiz:[46.8,8.2333],suisse:[46.8,8.2333],basel:[47.5581,7.5877],bern:[46.948,7.4474],biel:[47.1368,7.2467],lausanne:[46.5194,6.6345],luzern:[47.0521,8.3059],zuerich:[47.3717,8.5423],genf:[46.2,6.15],winterthur:[47.5,8.75],"st-gallen":[47.4236,9.3775],lugano:[46.008,8.9557],sweden:[63,16],stockholm:[59.3294,18.0686],ukraine:[49,32],kiev:[50.43,30.5233],lviv:[49.83,24.0142],"united-kingdom":[55,-4],bristol:[51.45,-2.5833],eastbourne:[50.8,.34],london:[51.5072,-.1275],cameroon:[7.5,12],yaounde:[3.8667,11.5167],egypt:[27,31],cairo:[30.044,31.236],kenya:[0,38],nairobi:[-1.2833,36.8167],nigeria:[9,8],abuja:[9.067,7.483],tanzania:[-6.307,34.854],"dar-es-salaam":[-6.8,39.283333],"south-africa":[-28.65,25],pretoria:[-25.746,28.188],bloemfontain:[-29.117,26.217],"cape-town":[-33.925,18.424],argentina:[-39,-63],"buenos-aires":[-34.6,-58.383],bolivia:[-16.712,-64.666],"la-paz":[-16.5,-68.15],sucre:[-19.05,-65.25],brazil:[-13,-52],brasilia:[-15.7817,-47.9],"sao-paulo":[-23.55,-46.633],canada:[70,-95],chile:[-38,-71],santiago:[-33.46,-70.6],colombia:[4,-72],bogota:[4.66,-74.0722],"costa-rica":[9.5,-84],"dominican-republic":[19,-70.6667],"santo-domingo":[18.4667,-69.95],"puerto-plata":[19.803,-70.683],guatemala:[15.5,-90.25],"guatemala-city":[14.613,-90.535],haiti:[19,-72.417],"port-au-prince":[18.533,-72.333],mexico:[23,-102],"mexico-city":[19.433,-99.133],peru:[-8.233,-76.017],lima:[-12.043333,-77.028333],usa:[40,-100],"united-states":[40,-100],portland:[45.52,-122.6819],brunei:[4.6,114.7],china:[32.8,103.08],beijing:[39.92,116.38],hongkong:[22.352,114.196],india:[21,78],mumbai:[19,72.83],iraq:[33,44],baghdad:[33.33,44.43],israel:[31,35],jerusalem:[31.783,35.217],"tel-aviv":[32.067,34.783],japan:[35,136],tokyo:[35.683,139.767],jordan:[31.24,36.51],amman:[31.95,35.933],kyrgyzstan:[41.267,74.983],bishkek:[42.867,74.567],malaysia:[4.5,108.8],"kuala-lumpur":[3.141,101.698],putrajaya:[2.943,101.699],nepal:[28.25,83.9167],kathmandu:[27.7,85.3167],Oman:[21,57],muscat:[23.6,58.583],"republic-of-korea":[36,128],seoul:[37.55,126.967],taiwan:[23.63,121.0532],tajikistan:[38.583,71.367],dushanbe:[38.56,68.774],thailand:[15.4,101.3],turkey:[39,35],ankara:[39.9,32.8],istanbul:[41,29],"united-arab-emirates":[24,54],uae:[24,54],dubai:[25.2667,55.3],vietnam:[16,107],hanoi:[21.0333,105.85],australia:[-25,135],adelaide:[-34.929,138.601],brisbane:[-27.467,153.033],canberra:[-35.3075,149.124417],darwin:[-12.45,130.833],hobart:[-42.881,147.325],melbourne:[-37.814,144.963],perth:[-31.952,115.859],sydney:[-33.865,151.209],"new-zealand":[-44,173],wellington:[-41.3,174.79],world:[0,0]}}});